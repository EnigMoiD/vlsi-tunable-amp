Version 4
SHEET 1 2412 1072
WIRE 144 80 144 32
WIRE 112 96 80 96
WIRE 288 128 240 128
WIRE 432 128 288 128
WIRE 432 144 432 128
WIRE 112 160 80 160
WIRE 144 208 144 176
WIRE 288 240 288 128
WIRE 432 240 432 224
WIRE 80 336 80 160
WIRE 288 336 288 320
WIRE 288 336 80 336
WIRE 512 336 288 336
WIRE 288 352 288 336
WIRE 288 464 288 432
WIRE 512 464 288 464
WIRE 288 496 288 464
WIRE 512 496 288 496
WIRE 288 528 288 496
WIRE 848 560 848 512
WIRE 784 576 752 576
WIRE 976 576 944 576
WIRE 1296 576 976 576
WIRE 784 608 752 608
WIRE 976 608 944 608
WIRE 1200 608 976 608
WIRE 288 624 288 608
WIRE 512 624 288 624
WIRE 784 640 752 640
WIRE 976 640 944 640
WIRE 1104 640 976 640
WIRE 288 656 288 624
WIRE 512 656 288 656
WIRE 784 672 752 672
WIRE 976 672 944 672
WIRE 1008 672 976 672
WIRE 288 688 288 656
WIRE 1008 688 1008 672
WIRE 1104 688 1104 640
WIRE 1200 688 1200 608
WIRE 1296 688 1296 576
WIRE 848 720 848 688
WIRE 288 784 288 768
WIRE 512 784 288 784
WIRE 1008 784 1008 768
WIRE 1104 784 1104 768
WIRE 1200 784 1200 768
WIRE 1296 784 1296 768
WIRE 288 816 288 784
WIRE 512 816 288 816
WIRE 288 848 288 816
WIRE 288 944 288 928
WIRE 512 944 288 944
WIRE 288 960 288 944
FLAG 672 224 0
FLAG 144 208 0
FLAG 144 32 Vdd
FLAG 672 144 Vdd
FLAG 544 192 Vin
FLAG 80 96 Vin
FLAG 512 400 0
FLAG 512 560 0
FLAG 512 720 0
FLAG 512 880 0
FLAG 576 400 B0
FLAG 576 560 B1
FLAG 576 720 B2
FLAG 576 880 B3
FLAG 768 224 0
FLAG 768 144 Vref
FLAG 288 960 Vref
FLAG 544 272 Vref
FLAG 848 720 0
FLAG 848 512 Vdd
FLAG 752 576 B0
FLAG 752 608 B1
FLAG 752 640 B2
FLAG 752 672 B3
FLAG 1104 784 0
FLAG 1296 784 0
FLAG 1200 784 0
FLAG 656 448 0
FLAG 656 384 B0
FLAG 656 608 0
FLAG 656 544 B1
FLAG 656 752 0
FLAG 656 688 B2
FLAG 656 912 0
FLAG 656 848 B3
FLAG 432 240 0
FLAG 1008 784 0
FLAG 288 128 Vout
FLAG 976 640 CLK
FLAG 976 608 CSn
FLAG 976 576 MOSI
FLAG 976 672 SET
SYMBOL voltage 672 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vcc
SYMATTR Value 5
SYMBOL voltage 544 176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 .25 100k 0 1n .25m 1000)
SYMBOL res 272 224 R0
SYMATTR InstName R1
SYMATTR Value 160k
SYMBOL res 272 336 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 272 512 R0
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL res 272 672 R0
SYMATTR InstName R4
SYMATTR Value 40k
SYMBOL res 272 832 R0
SYMATTR InstName R5
SYMATTR Value 80k
SYMBOL voltage 768 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vref
SYMATTR Value 2.5
SYMBOL spi-interface 848 624 M0
SYMATTR InstName X1
SYMBOL voltage 1104 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 0 1n 1n 50u 100u 50)
SYMATTR InstName CLK
SYMBOL voltage 1296 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PWL(0 0 80u 0 85u 5 180u 5 185u 0 280u 0 285u 5 380u 5 385u 0 1480u 0 1485u 5 2480u 5 2485u 0)
SYMATTR InstName MOSI
SYMBOL voltage 1200 672 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 5 480u 1n 1n 1ms 2ms 2)
SYMATTR InstName CSn
SYMBOL amplifier 160 128 R0
SYMATTR InstName Amp
SYMBOL cap 640 384 R0
SYMATTR InstName C1
SYMATTR Value 20p
SYMBOL cap 640 544 R0
SYMATTR InstName C2
SYMATTR Value 20p
SYMBOL cap 640 688 R0
SYMATTR InstName C3
SYMATTR Value 20p
SYMBOL cap 640 848 R0
SYMATTR InstName C4
SYMATTR Value 20p
SYMBOL cktsym\\nmos4 512 400 M0
SYMATTR InstName M5
SYMATTR Value2 l=4u w=50u
SYMBOL cktsym\\nmos4 512 560 M0
SYMATTR InstName M1
SYMATTR Value2 l=4u w=50u
SYMBOL cktsym\\nmos4 512 720 M0
SYMATTR InstName M2
SYMATTR Value2 l=4u w=50u
SYMBOL cktsym\\nmos4 512 880 M0
SYMATTR InstName M3
SYMATTR Value2 l=4u w=50u
SYMBOL res 448 240 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Rload
SYMATTR Value 600
SYMBOL voltage 1008 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PWL(0 5 389u 5 390u 0 400u 0 401u 5 2489u 5 2490u 0)
SYMATTR InstName SET
TEXT 304 968 Left 2 !.include engr3426.sub
TEXT 304 992 Left 2 !.tran 3ms
TEXT 968 840 Left 3 ;this clocks in 0101, then deselects the chip
TEXT 840 880 Left 3 ;then waits 1ms, then clocks in 1111, then deslects the chip again
TEXT 712 408 Left 2 ;20pF works better
