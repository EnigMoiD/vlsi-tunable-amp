Version 4
SHEET 1 2412 1072
WIRE 144 80 144 48
WIRE 112 96 80 96
WIRE 704 96 704 80
WIRE 816 96 816 80
WIRE 288 128 240 128
WIRE 352 128 288 128
WIRE 112 160 48 160
WIRE 144 208 144 176
WIRE 288 240 288 128
WIRE 80 336 80 96
WIRE 288 336 288 320
WIRE 288 336 80 336
WIRE 512 336 288 336
WIRE 288 352 288 336
WIRE 288 464 288 432
WIRE 512 464 288 464
WIRE 288 496 288 464
WIRE 512 496 288 496
WIRE 288 528 288 496
WIRE 896 560 896 512
WIRE 832 576 800 576
WIRE 1568 576 992 576
WIRE 832 608 800 608
WIRE 1344 608 992 608
WIRE 288 624 288 608
WIRE 512 624 288 624
WIRE 832 640 800 640
WIRE 288 656 288 624
WIRE 512 656 288 656
WIRE 1152 656 992 656
WIRE 1344 656 1344 608
WIRE 1568 656 1568 576
WIRE 832 672 800 672
WIRE 288 688 288 656
WIRE 896 720 896 688
WIRE 1152 768 1152 736
WIRE 1344 768 1344 736
WIRE 1568 768 1568 736
WIRE 288 784 288 768
WIRE 512 784 288 784
WIRE 288 816 288 784
WIRE 512 816 288 816
WIRE 288 848 288 816
WIRE 288 944 288 928
WIRE 512 944 288 944
WIRE 288 960 288 944
FLAG 704 176 0
FLAG 144 208 0
FLAG 144 48 Vcc
FLAG 704 80 Vcc
FLAG 816 80 Vin
FLAG 48 160 Vin
FLAG 512 400 0
FLAG 512 560 0
FLAG 512 720 0
FLAG 512 880 0
FLAG 576 400 B0
FLAG 576 560 B1
FLAG 576 720 B2
FLAG 576 880 B3
FLAG 1312 176 0
FLAG 1312 96 Vref
FLAG 288 960 Vref
FLAG 816 176 Vref
FLAG 896 720 0
FLAG 896 512 Vcc
FLAG 800 576 B0
FLAG 800 608 B1
FLAG 800 640 B2
FLAG 800 672 B3
FLAG 1152 768 0
FLAG 1568 768 0
FLAG 1344 768 0
FLAG 704 448 0
FLAG 704 384 B0
FLAG 704 608 0
FLAG 704 544 B1
FLAG 704 752 0
FLAG 704 688 B2
FLAG 704 912 0
FLAG 704 848 B3
FLAG 432 128 0
SYMBOL voltage 704 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vcc
SYMATTR Value 5
SYMBOL voltage 816 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 .25 100k 0 1n .25m 1000)
SYMBOL res 272 224 R0
SYMATTR InstName R1
SYMATTR Value 160k
SYMBOL res 272 336 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 272 512 R0
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL res 272 672 R0
SYMATTR InstName R4
SYMATTR Value 40k
SYMBOL res 272 832 R0
SYMATTR InstName R5
SYMATTR Value 80k
SYMBOL voltage 1312 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vref
SYMATTR Value 2.5
SYMBOL spi-interface 896 624 M0
SYMATTR InstName X1
SYMBOL voltage 1152 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 0 1n 1n 50u 100u 50)
SYMATTR InstName V1
SYMBOL voltage 1568 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value PWL(0 0 80u 0 85u 5 180u 5 185u 0 280u 0 285u 5 380u 5 385u 0 1480u 0 1485u 5 2480u 5 2485u 0)
SYMATTR InstName V3
SYMBOL voltage 1344 640 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 5 480u 1n 1n 1ms 2ms 2)
SYMATTR InstName V4
SYMBOL amplifier 160 128 R0
SYMATTR InstName X2
SYMBOL cap 688 384 R0
SYMATTR InstName C1
SYMATTR Value 20p
SYMBOL cap 688 544 R0
SYMATTR InstName C2
SYMATTR Value 20p
SYMBOL cap 688 688 R0
SYMATTR InstName C3
SYMATTR Value 20p
SYMBOL cap 688 848 R0
SYMATTR InstName C4
SYMATTR Value 20p
SYMBOL cktsym\\nmos4 512 400 M0
SYMATTR InstName M5
SYMATTR Value2 l=4u w=50u
SYMBOL cktsym\\nmos4 512 560 M0
SYMATTR InstName M1
SYMATTR Value2 l=4u w=50u
SYMBOL cktsym\\nmos4 512 720 M0
SYMATTR InstName M2
SYMATTR Value2 l=4u w=50u
SYMBOL cktsym\\nmos4 512 880 M0
SYMATTR InstName M3
SYMATTR Value2 l=4u w=50u
SYMBOL res 448 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 600
TEXT 832 248 Left 2 !.include engr3426.sub
TEXT -40 984 Left 2 !.tran 3ms
TEXT 1016 840 Left 3 ;this clocks in 0101, then deselects the chip
TEXT 888 880 Left 3 ;then waits 1ms, then clocks in 1111, then deslects the chip again
TEXT 760 408 Left 2 ;20pF works better
